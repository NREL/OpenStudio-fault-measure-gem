<measure>
  <schema_version>3.0</schema_version>
  <name>thermostat_bias</name>
  <uid>e359373a-ea8b-459d-a4c0-e2e8ae78b840</uid>
  <version_id>e0938397-e497-4378-ac1b-71e56e18fb28</version_id>
  <version_modified>20200409T145325Z</version_modified>
  <xml_checksum>2C877DEB</xml_checksum>
  <class_name>ThermostatBias</class_name>
  <display_name>Thermostat Measurement Bias</display_name>
  <description>Drift of the thermostat temperature sensor over time can lead to increased energy use and/or reduced occupant comfort. This fault is categorized as a fault that occur in the indoor thermostats (sensor) during the operation stage. This fault measure is based on a physical model where certain parameter(s) is changed in EnergyPlus to mimic the faulted operation; thus simulates a biased thermostat by modifying the Schedule:Compact object in EnergyPlus assigned to heating and cooling set points. The fault intensity (F) is defined as the thermostat measurement bias (K). A positive number means that the sensor is reading a temperature higher than the true temperature.</description>
  <modeler_description>Seven user inputs are required and, based on these user inputs, the original (non-faulted) heating and cooling set point schedules in the building model will be replaced with a biased temperature set point by the equation below. If the reading of the thermostat is biased with +1C, the actual space temperature should be maintained 1C lower than the reading. Thus, the set point for the space is corrected by subtracting the original set point from the biased level. T_(stpt,heat,F)=T_(stpt,heat)-F / T_(stpt,cool,F)=T_(stpt,cool)-F. The time required for the fault to reach the full level is only required when the user wants to model fault evolution. If the fault evolution is not necessary for the user, it can be defined as zero and F will be imposed as a step function with the user defined value. However, by defining the time required for the fault to reach the full level, fault starting month/date/time and fault ending month/date/time, the adjustment factor AF is calculated at each time step starting from the starting month/date/time to gradually impose F based on the user specified time frame. AF is calculated as follows, AF_current = AF_previous + dt/tau where AF_current is the adjustment factor calculated based on the previously calculated adjustment factor (AF_previous), simulation timestep (dt) and the time required for the fault to reach the full level (tau).</modeler_description>
  <arguments>
    <argument>
      <name>zone</name>
      <display_name>Zone. Choose * All Zones * if you want to impose the fault in all zones</display_name>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>* All Zones *</default_value>
      <choices>
        <choice>
          <value>* All Zones *</value>
          <display_name>* All Zones *</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>bias_level</name>
      <display_name>Enter the constant setpoint bias level [K] [0=Non faulted case]</display_name>
      <type>Double</type>
      <required>false</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>time_constant</name>
      <display_name>Enter the time required for fault to reach full level [hr]</display_name>
      <type>Double</type>
      <required>false</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>start_month</name>
      <display_name>Fault active start month</display_name>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>January</default_value>
      <choices>
        <choice>
          <value>January</value>
          <display_name>January</display_name>
        </choice>
        <choice>
          <value>February</value>
          <display_name>February</display_name>
        </choice>
        <choice>
          <value>March</value>
          <display_name>March</display_name>
        </choice>
        <choice>
          <value>April</value>
          <display_name>April</display_name>
        </choice>
        <choice>
          <value>May</value>
          <display_name>May</display_name>
        </choice>
        <choice>
          <value>June</value>
          <display_name>June</display_name>
        </choice>
        <choice>
          <value>July</value>
          <display_name>July</display_name>
        </choice>
        <choice>
          <value>August</value>
          <display_name>August</display_name>
        </choice>
        <choice>
          <value>September</value>
          <display_name>September</display_name>
        </choice>
        <choice>
          <value>October</value>
          <display_name>October</display_name>
        </choice>
        <choice>
          <value>November</value>
          <display_name>November</display_name>
        </choice>
        <choice>
          <value>December</value>
          <display_name>December</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>start_date</name>
      <display_name>Enter the date (1-28/30/31) when the fault starts to occur</display_name>
      <type>Double</type>
      <required>false</required>
      <model_dependent>false</model_dependent>
      <default_value>1</default_value>
    </argument>
    <argument>
      <name>end_month</name>
      <display_name>Fault active end month</display_name>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>December</default_value>
      <choices>
        <choice>
          <value>January</value>
          <display_name>January</display_name>
        </choice>
        <choice>
          <value>February</value>
          <display_name>February</display_name>
        </choice>
        <choice>
          <value>March</value>
          <display_name>March</display_name>
        </choice>
        <choice>
          <value>April</value>
          <display_name>April</display_name>
        </choice>
        <choice>
          <value>May</value>
          <display_name>May</display_name>
        </choice>
        <choice>
          <value>June</value>
          <display_name>June</display_name>
        </choice>
        <choice>
          <value>July</value>
          <display_name>July</display_name>
        </choice>
        <choice>
          <value>August</value>
          <display_name>August</display_name>
        </choice>
        <choice>
          <value>September</value>
          <display_name>September</display_name>
        </choice>
        <choice>
          <value>October</value>
          <display_name>October</display_name>
        </choice>
        <choice>
          <value>November</value>
          <display_name>November</display_name>
        </choice>
        <choice>
          <value>December</value>
          <display_name>December</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>end_date</name>
      <display_name>Enter the date (1-28/30/31) when the fault ends</display_name>
      <type>Double</type>
      <required>false</required>
      <model_dependent>false</model_dependent>
      <default_value>31</default_value>
    </argument>
  </arguments>
  <outputs/>
  <provenances/>
  <tags>
    <tag>HVAC.HVAC Controls</tag>
  </tags>
  <attributes>
    <attribute>
      <name>Measure Type</name>
      <value>ModelMeasure</value>
      <datatype>string</datatype>
    </attribute>
    <attribute>
      <name>Uses SketchUp API</name>
      <value>false</value>
      <datatype>boolean</datatype>
    </attribute>
  </attributes>
  <files>
    <file>
      <filename>util.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>331D0847</checksum>
    </file>
    <file>
      <filename>global_const.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>C16CED49</checksum>
    </file>
    <file>
      <filename>misc_arguments.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>AC509FB1</checksum>
    </file>
    <file>
      <filename>faultimplementation_TB.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>1F550A11</checksum>
    </file>
    <file>
      <version>
        <software_program>OpenStudio</software_program>
        <identifier>1.4.0</identifier>
        <min_compatible>2.5.0</min_compatible>
      </version>
      <filename>measure.rb</filename>
      <filetype>rb</filetype>
      <usage_type>script</usage_type>
      <checksum>5321C161</checksum>
    </file>
    <file>
      <filename>README.md</filename>
      <filetype>md</filetype>
      <usage_type>readme</usage_type>
      <checksum>B2044F49</checksum>
    </file>
  </files>
</measure>
